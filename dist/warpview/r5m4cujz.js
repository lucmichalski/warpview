/*! Built with http://stenciljs.com */
const{h:t}=window.warpview;import{a as e,b as s,c as a}from"./chunk-958705aa.js";class n{}class i{constructor(){this._node={selected:!0,gts:n},this.LOG=new a(i)}handleKeyDown(t){"a"===t.key&&this.setState(!0),"n"===t.key&&this.setState(!1)}colorizeChip(){const t=this.el.getElementsByClassName("normal")[0];this._node.selected?(t.style.setProperty("background-color",s.transparentize(s.getColor(this._node.index),.7)),t.style.setProperty("border-color",s.getColor(this._node.index))):t.style.setProperty("background-color","#eeeeee")}componentWillLoad(){this._node=Object.assign({},this.node,{selected:!0})}componentDidLoad(){this.colorizeChip()}lastIndex(t,e){return t===this.toArray(e).length-1}toArray(t){return void 0===t?[]:Object.keys(t).map(function(e){return{name:e,value:t[e]}})}switchPlotState(t){this.setState(!this._node.selected)}setState(t){this._node=Object.assign({},this._node,{selected:t,label:e.serializeGtsMetadata(this._node.gts)}),this.LOG.debug(["switchPlotState"],this._node),this.colorizeChip(),this.warpViewSelectedGTS.emit(this._node)}render(){return t("div",null,this._node&&this._node.gts&&this._node.gts.l?t("span",null,t("i",{class:"normal"}),t("span",{class:"gtsInfo",onClick:t=>this.switchPlotState(t)},t("span",{class:"gts-classname"},"Â  ",this._node.gts.c),t("span",{class:"gts-separator",innerHTML:"&lcub; "}),this.toArray(this._node.gts.l).map((e,s)=>t("span",null,t("span",{class:"gts-labelname"},e.name),t("span",{class:"gts-separator"},"="),t("span",{class:"gts-labelvalue"},e.value),t("span",{hidden:this.lastIndex(s,this._node.gts.a)},", "))),this.toArray(this._node.gts.a).map((e,s)=>t("span",null,t("span",{class:"gts-attrname"},e.name),t("span",{class:"gts-separator"},"="),t("span",{class:"gts-attrvalue"},e.value),t("span",{hidden:this.lastIndex(s,this._node.gts.a)},", "))),t("span",{class:"gts-separator",innerHTML:" &rcub;"}))):"")}static get is(){return"warp-view-chip"}static get properties(){return{el:{elementRef:!0},index:{type:Number,attr:"index"},name:{type:String,attr:"name"},node:{type:"Any",attr:"node"}}}static get events(){return[{name:"warpViewSelectedGTS",method:"warpViewSelectedGTS",bubbles:!0,cancelable:!0,composed:!0}]}static get listeners(){return[{name:"document:keyup",method:"handleKeyDown"}]}static get style(){return"/*!\n *\n *    Copyright 2016  Cityzen Data\n *\n *    Licensed under the Apache License, Version 2.0 (the \"License\");\n *    you may not use this file except in compliance with the License.\n *    You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n *    Unless required by applicable law or agreed to in writing, software\n *    distributed under the License is distributed on an \"AS IS\" BASIS,\n *    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *    See the License for the specific language governing permissions and\n *    limitations under the License.\n *\n */:host .normal{border-radius:50%;background-color:#bbb;display:inline-block;width:120px;height:12px;border:2px solid #454545;margin-top:auto;margin-bottom:auto;vertical-align:middle}"}}class r{constructor(){this.theme="light",this.gtsList={content:[]},this.LOG=new a(r)}onData(t,e){t!==e&&this.doRender()}componentWillLoad(){this.LOG.debug(["componentWillLoad","data"],this.data),this.data&&this.doRender()}doRender(){let t=e.getData(this.data).data;this.gtsList=e.gtsFromJSONList(t,""),this.LOG.debug(["doRender","gtsList"],this.data)}render(){return this.gtsList?t("warp-view-tree-view",{gtsList:this.gtsList,branch:!1,theme:this.theme}):""}static get is(){return"warp-view-gts-tree"}static get properties(){return{data:{type:String,attr:"data",watchCallbacks:["onData"]},theme:{type:String,attr:"theme"}}}static get style(){return"/*!\n *\n *    Copyright 2016  Cityzen Data\n *\n *    Licensed under the Apache License, Version 2.0 (the \"License\");\n *    you may not use this file except in compliance with the License.\n *    You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n *    Unless required by applicable law or agreed to in writing, software\n *    distributed under the License is distributed on an \"AS IS\" BASIS,\n *    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *    See the License for the specific language governing permissions and\n *    limitations under the License.\n *\n */"}}class l{static get is(){return"warp-view-gts-tree"}static get properties(){return{data:{type:String,attr:"data",watchCallbacks:["onData"]},theme:{type:String,attr:"theme"}}}static get style(){return"/**style-placeholder:warp-view-gts-tree:**/"}}l.item=-1;class o{constructor(){this.branch=!1,this.theme="light"}static getIndex(t){return l.item++,t.index=l.item,l.item}componentWillLoad(){o.LOG.debug(["componentWillLoad"],l.item)}render(){return t("div",{class:"list"},this.gtsList&&this.gtsList.content?t("ul",null,this.gtsList.content.map((s,a)=>t("li",null,this.branch?"":t("div",{class:"stack-level"},"Stack level ",a),e.isGts(s.gts)?t("warp-view-chip",{node:s,index:o.getIndex(s),name:s.gts.c}):t("span",null,s.content?t("div",null,t("span",{class:"expanded"}),"List of ",s.content.length," item",s.content.length>1?"s":"",t("warp-view-tree-view",{gtsList:s,branch:!0})):t("span",null))))):"")}static get is(){return"warp-view-tree-view"}static get properties(){return{branch:{type:Boolean,attr:"branch"},gtsList:{type:"Any",attr:"gts-list"},theme:{type:String,attr:"theme"}}}static get style(){return"/*!\n *\n *    Copyright 2016  Cityzen Data\n *\n *    Licensed under the Apache License, Version 2.0 (the \"License\");\n *    you may not use this file except in compliance with the License.\n *    You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n *    Unless required by applicable law or agreed to in writing, software\n *    distributed under the License is distributed on an \"AS IS\" BASIS,\n *    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *    See the License for the specific language governing permissions and\n *    limitations under the License.\n *\n */warp-view-tree-view ul{margin:0;padding:0;list-style:none;border:none;overflow:hidden}warp-view-tree-view li{color:var(--gts-stack-font-color,#000);position:relative;padding:0 0 0 20px;line-height:20px}warp-view-tree-view li .stack-level{font-size:1.25em;font-weight:700;padding-top:25px;padding-bottom:10px}warp-view-tree-view li .stack-level+div{padding-left:25px}warp-view-tree-view li .expanded{padding:1px 10px;background:var(--gts-tree-expanded-icon,url(data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAAKElEQVQ4jWNgGFbgFQMDw38i8UuYJiYkA5hJsIwUtXQEo2EwGgZkAwBP/yN0kY5JiwAAAABJRU5ErkJggg==));background-size:cover}warp-view-tree-view li .collapsed{padding:1px 10px;background:var(--gts-tree-collapsed-icon,url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABiSURBVGhD7djRCcAgDEBBF+hHt+wo3auDtWaEKFLRO3j/CSiIBQDYxFE7JytmSntq72TFTGkWGVjTIsvcEQDocdXuyYqZ0ry1Bta0yDJHCwB6+KAb2N5vrWUW8UEHAPyilA9TDlz495u2lwAAAABJRU5ErkJggg==));background-size:cover}warp-view-tree-view li .gtsInfo{white-space:normal;word-wrap:break-word}warp-view-tree-view li .gtsInfo[disabled]{color:#aaa;cursor:not-allowed}warp-view-tree-view li .normal{border-radius:50%;background-color:#bbb;display:inline-block;width:12px;height:12px}warp-view-tree-view li i,warp-view-tree-view li span{cursor:pointer}warp-view-tree-view li .selected{background-color:#adf;font-weight:700;padding:1px 5px}warp-view-tree-view .gts-classname{color:var(--gts-classname-font-color,#0074d9)}warp-view-tree-view .gts-labelname{color:var(--gts-labelname-font-color,#19a979)}warp-view-tree-view .gts-attrname{color:var(--gts-labelname-font-color,#ed4a7b)}warp-view-tree-view .gts-separator{color:var(--gts-separator-font-color,#bbb)}warp-view-tree-view .gts-labelvalue{color:var(--gts-labelvalue-font-color,#aaa);font-style:italic}warp-view-tree-view .gts-attrvalue{color:var(--gts-labelvalue-font-color,#aaa);font-style:italic}"}}o.LOG=new a(o);export{i as WarpViewChip,r as WarpViewGtsTree,o as WarpViewTreeView};