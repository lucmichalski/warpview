/*! Built with http://stenciljs.com */
quantumviz.loadBundle("d2elcrfm",["exports","./chunk-47f4222f.js"],function(t,i){var e=window.quantumviz.h,a=function(){function t(){this.unit="",this.type="line",this.chartTitle="",this.responsive=!1,this.showLegend=!1,this.data="[]",this.hiddenData="[]",this.options="{}",this.width="",this.height="",this._chart={xMin:0,xMax:0,yMin:0,yMax:0,xMinView:0,xMaxView:0,yMinView:0,yMaxView:0},this._xView="{}",this._yView="{}",this._slider={x:{element:null,width:0,max:0,cursorSize:"{}"},y:{element:null,height:0,max:0,cursorSize:"{}"}}}return t.prototype.changeScale=function(t,i){i!==t&&(this._options=t)},t.prototype.chartInfosWatcher=function(t){this._chart.xMin=t.detail.xMin,this._chart.xMinView=t.detail.xMin,this._chart.xMax=t.detail.xMax,this._slider.x.max=t.detail.xMax,this._chart.xMaxView=t.detail.xMax,this._chart.yMin=t.detail.yMin,this._chart.yMinView=t.detail.yMin,this._chart.yMax=t.detail.yMax,this._slider.y.max=t.detail.yMax,this._chart.yMaxView=t.detail.yMax},t.prototype.dataParser=function(){var t=[],e=JSON.parse(this.data);Array.isArray(e[0].gts)&&1==e[0].gts.length&&(e[0].gts=e[0].gts[0],console.log(e[0].gts)),e[0].gts.forEach(function(e){if(Array.isArray(e)){var a=[];e.forEach(function(t){i.GTSLib.isGts(t)&&a.push(t)}),a.length>0&&t.push(a)}else i.GTSLib.isGts(e)&&t.push(e)}),console.log("dataset",t)},t.prototype.componentWillLoad=function(){this.dataParser()},t.prototype.xSliderInit=function(){this._slider.x.width=this.el.shadowRoot.querySelector("#myChart").getBoundingClientRect().width},t.prototype.componentDidLoad=function(){this.xSliderInit(),this.wc.forceUpdate();var t=this.el.shadowRoot.querySelector("#myChart");this.png=t.toBase64Image()},t.prototype.xZoomListener=function(t){var i=this._chart.xMinView,e=this._chart.xMaxView,a=e-i;t.detail.zoomValue.zoomType>0?(i+=.1*a*t.detail.zoomValue.coef,e-=.1*a*(1-t.detail.zoomValue.coef)):(i-=.15*a*t.detail.zoomValue.coef,e+=.15*a*(1-t.detail.zoomValue.coef)),i=i<this._chart.xMin?this._chart.xMin:i,e=e>this._chart.xMax?this._chart.xMax:e,this._chart.xMinView=i,this._chart.xMaxView=e,this._xView=JSON.stringify({min:this._chart.xMinView,max:this._chart.xMaxView}),a=this._chart.xMaxView-this._chart.xMinView,this._slider.x.max=this._chart.xMax-a;var r=a/(this._chart.xMax-this._chart.xMin),n=(this._chart.xMinView-this._chart.xMin)/(this._chart.xMax-this._chart.xMin);this._slider.x.cursorSize=JSON.stringify({cursorSize:r,cursorOffset:n}),this.wc.forceUpdate()},t.prototype.xSliderListener=function(t){var i=t.detail.sliderValue-this._chart.xMinView;this._chart.xMinView+=i,this._chart.xMaxView+=i,this._xView=JSON.stringify({min:this._chart.xMinView,max:this._chart.xMaxView}),this.wc.forceUpdate()},t.prototype.zoomReset=function(){this._chart.xMinView=this._chart.xMin,this._chart.xMaxView=this._chart.xMax,this._chart.yMinView=this._chart.yMin,this._chart.yMaxView=this._chart.yMax,this._xView=JSON.stringify({min:this._chart.xMin,max:this._chart.xMax}),this._yView=JSON.stringify({min:this._chart.yMin,max:this._chart.yMax}),this._slider.x.cursorSize=JSON.stringify({cursorSize:1,cursorOffset:0}),this._slider.y.cursorSize=JSON.stringify({cursorSize:1,cursorOffset:0}),this.wc.forceUpdate()},t.prototype.render=function(){var t=this;return e("div",{class:"charts-container"},e("quantum-dygraphs",{id:"myChart",standalone:!1,unit:this.unit,chartTitle:this.chartTitle,responsive:this.responsive,"show-legend":this.showLegend,data:this.data,hiddenData:this.hiddenData,options:this._options}),e("button",{id:"reset",type:"button",onClick:function(){return t.zoomReset()}},"Zoom Reset"),e("a",{href:this.png,download:"chart-"+Date.now()},e("button",{id:"download",type:"button"},"Download Chart")),e("div",{id:"xSliderWrapper"},e("quantum-horizontal-zoom-map",{id:"xSlider",img:this.png,width:this._slider.x.width,"min-value":this._chart.xMin,"max-value":this._slider.x.max,cursorSize:this._slider.x.cursorSize})))},Object.defineProperty(t,"is",{get:function(){return"quantum-multi-charts"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"encapsulation",{get:function(){return"shadow"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"properties",{get:function(){return{chartTitle:{type:String,attr:"chart-title"},data:{type:String,attr:"data"},el:{elementRef:!0},height:{type:String,attr:"height"},hiddenData:{type:String,attr:"hidden-data"},options:{type:String,attr:"options",watchCallbacks:["changeScale"]},responsive:{type:Boolean,attr:"responsive"},showLegend:{type:Boolean,attr:"show-legend"},timeMax:{type:Number,attr:"time-max"},timeMin:{type:Number,attr:"time-min"},type:{type:String,attr:"type"},unit:{type:String,attr:"unit"},wc:{elementRef:!0},width:{type:String,attr:"width"}}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"listeners",{get:function(){return[{name:"chartInfos",method:"chartInfosWatcher"},{name:"xZoom",method:"xZoomListener"},{name:"xSliderValueChanged",method:"xSliderListener"}]},enumerable:!0,configurable:!0}),Object.defineProperty(t,"style",{get:function(){return""},enumerable:!0,configurable:!0}),t}();t.QuantumMultiCharts=a,Object.defineProperty(t,"__esModule",{value:!0})});