var LEVEL,Logger=function(){function t(t,e){void 0===e&&(e=!1),this.isDebug=!1,this.className=t.name,this.isDebug=e}return t.prototype.log=function(t,e,n){var r=[];switch(r.push("["+this.className+"] "+e.join(" - ")),r=r.concat(n),t){case LEVEL.DEBUG:this.isDebug&&console.debug.apply(console,r);break;case LEVEL.ERROR:console.error.apply(console,r);break;case LEVEL.INFO:console.log.apply(console,r);break;case LEVEL.WARN:console.warn.apply(console,r);break;default:this.isDebug&&console.log.apply(console,r)}},t.prototype.debug=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this.log(LEVEL.DEBUG,t,e)},t.prototype.error=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this.log(LEVEL.ERROR,t,e)},t.prototype.warn=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this.log(LEVEL.WARN,t,e)},t.prototype.info=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this.log(LEVEL.INFO,t,e)},t}();!function(t){t[t.DEBUG=0]="DEBUG",t[t.ERROR=1]="ERROR",t[t.WARN=2]="WARN",t[t.INFO=3]="INFO"}(LEVEL||(LEVEL={}));var ChartLib=function(){function t(){}return t.guid=function(){var t,e,n="";for(t=0;t<32;t++)e=16*Math.random()|0,8!=t&&12!=t&&16!=t&&20!=t||(n+="-"),n+=(12==t?4:16==t?3&e|8:e).toString(16);return n},t.mergeDeep=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r={},o=0;o<arguments.length;o++)t.merge(arguments[o],r,!0);return r},t.merge=function(e,n,r){for(var o in e)e.hasOwnProperty(o)&&(n[o]=r&&"[object Object]"===Object.prototype.toString.call(e[o])?t.mergeDeep(n[o],e[o]):e[o])},t.isObject=function(t){return t&&"object"==typeof t&&!Array.isArray(t)},t.getTooltipCallbacks=function(){return{title:function(t){return t[0].xLabel},label:function(t,e){var n=e.datasets[t.datasetIndex].label||"";return n&&(n+=": "),n+t.yLabel}}},t.buildImage=function(t,e,n){var r=new Image(t,e);return r.src="data:image/svg+xml;base64,"+btoa('<svg width="'+t+'px" height="'+e+'px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 '+t+" "+e+'" preserveAspectRatio="xMidYMid">\n<rect width="'+t+'" height="'+e+'" style="fill:'+n+';" ></rect>\n</svg>'),r},t}(),DataModel=function(){},GTSLib=function(){function t(){}return t.cleanArray=function(t){return t.filter(function(t){return!!t})},t.unique=function(t){for(var e={},n=[],r=0,o=t.length;r<o;++r)e.hasOwnProperty(t[r])||(n.push(t[r]),e[t[r]]=1);return n},t.isArray=function(t){return t&&"object"==typeof t&&t instanceof Array&&"number"==typeof t.length&&"function"==typeof t.splice&&!t.propertyIsEnumerable("length")},t.isValidResponse=function(e){var n;try{n=JSON.parse(e)}catch(t){return this.LOG.error(["isValidResponse"],"Response non JSON compliant",e),!1}return!!t.isArray(n)||(this.LOG.error(["isValidResponse"],"Response isn't an Array",n),!1)},t.isEmbeddedImage=function(t){return!("string"!=typeof t||!/^data:image/.test(t))},t.isEmbeddedImageObject=function(e){return!(null===e||null===e.image||null===e.caption||!t.isEmbeddedImage(e.image))},t.isPositionArray=function(e){if(!e||!e.positions)return!1;if(t.isPositionsArrayWithValues(e)||t.isPositionsArrayWithTwoValues(e))return!0;for(var n in e.positions){if(e.positions[n].length<2||e.positions[n].length>3)return!1;for(var r in e.positions[n])if("number"!=typeof e.positions[n][r])return!1}return!0},t.isPositionsArrayWithValues=function(t){if(null===t||null===t.positions)return!1;for(var e in t.positions){if(3!==t.positions[e].length)return!1;for(var n in t.positions[e])if("number"!=typeof t.positions[e][n])return!1}return!0},t.isPositionsArrayWithTwoValues=function(t){if(null===t||null===t.positions)return!1;for(var e in t.positions){if(4!==t.positions[e].length)return!1;for(var n in t.positions[e])if("number"!=typeof t.positions[e][n])return!1}return!0},t.metricFromJSON=function(t){var e={ts:t[0],value:void 0,alt:void 0,lon:void 0,lat:void 0};switch(t.length){case 2:e.value=t[1];break;case 3:e.alt=t[1],e.value=t[2];break;case 4:e.lat=t[1],e.lon=t[2],e.value=t[3];break;case 5:e.lat=t[1],e.lon=t[2],e.alt=t[3],e.value=t[4]}return e},t.gtsFromJSON=function(t,e){return{gts:{c:t.c,l:t.l,a:t.a,v:t.v,id:e}}},t.gtsFromJSONList=function(e,n){var r,o=[];return(e||[]).forEach(function(e,s){var a=e;e.gts&&(a=e.gts),r=void 0!==n&&""!==n?n+"-"+s:s,t.isArray(a)&&o.push(t.gtsFromJSONList(a,r)),t.isGts(a)&&o.push(t.gtsFromJSON(a,r)),t.isEmbeddedImage(a)&&o.push({image:a,caption:"Image",id:r}),t.isEmbeddedImageObject(a)&&o.push({image:a.image,caption:a.caption,id:r})}),{content:o||[]}},t.flatDeep=function(e){return t.isArray(e)||(e=[e]),e.reduce(function(e,n){return Array.isArray(n)?e.concat(t.flatDeep(n)):e.concat(n)},[])},t.flattenGtsIdArray=function(e,n){var r=[];return t.isGts(e)&&(e=[e]),e.forEach(function(e){if(t.isArray(e)){var o=t.flattenGtsIdArray(e,n);r.push(o.res),n=o.r}else e.v&&(e.id=n,r.push(e),n++)}),{res:r,r:n}},t.serializeGtsMetadata=function(t){var e=[];Object.keys(t.l).forEach(function(n){e.push(n+"="+t.l[n])});var n=[];return Object.keys(t.a).forEach(function(e){n.push(e+"="+t.a[e])}),t.c+"{"+e.join(",")+(n.length>0?",":"")+n.join(",")+"}"},t.gtsToPath=function(t,e){void 0===e&&(e=1e3);for(var n=[],r=0;r<t.v.length;r++){var o=t.v[r];4===o.length&&n.push({ts:Math.floor(o[0]/e),lat:o[1],lon:o[2],val:o[3]}),5===o.length&&n.push({ts:Math.floor(o[0]/e),lat:o[1],lon:o[2],elev:o[3],val:o[4]})}return n},t.equalMetadata=function(t,e){if(!(void 0!==t.c&&void 0!==e.c&&void 0!==t.l&&void 0!==e.l&&t.l instanceof Object&&e.l instanceof Object))return this.LOG.error(["equalMetadata"],"Error in GTS, metadata is not well formed"),!1;if(t.c!==e.c)return!1;for(var n in t.l)if(!e.l.hasOwnProperty(n)||t.l[n]!==e.l[n])return!1;for(var n in e.l)if(!t.l.hasOwnProperty(n))return!1;return!0},t.isGts=function(e){return!(!e||null===e.c||null===e.l||null===e.a||null===e.v||!t.isArray(e.v))},t.isGtsToPlot=function(e){if(!t.isGts(e)||0===e.v.length)return!1;for(var n=0;n<e.v.length;n++)if(null!==e.v[n][e.v[n].length-1]){if("number"==typeof e.v[n][e.v[n].length-1]||void 0!==e.v[n][e.v[n].length-1].constructor.prototype.toFixed)return!0;break}return!1},t.isBooleanGts=function(e){if(!t.isGts(e)||0===e.v.length)return!1;for(var n=0;n<e.v.length;n++)if(null!==e.v[n][e.v[n].length-1]){if("boolean"!=typeof e.v[n][e.v[n].length-1])return!0;break}return!1},t.isGtsToAnnotate=function(e){if(!t.isGts(e)||0===e.v.length)return!1;for(var n=0;n<e.v.length;n++)if(null!==e.v[n][e.v[n].length-1]){if("number"!=typeof e.v[n][e.v[n].length-1]&&e.v[n][e.v[n].length-1].constructor&&"Big"!==e.v[n][e.v[n].length-1].constructor.name&&void 0===e.v[n][e.v[n].length-1].constructor.prototype.toFixed)return!0;break}return!1},t.gtsSort=function(t){t.isSorted||(t.v=t.v.sort(function(t,e){return t[0]-e[0]}),t.isSorted=!0)},t.gtsTimeRange=function(e){return t.gtsSort(e),0===e.v.length?null:[e.v[0][0],e.v[e.v.length-1][0]]},t.getData=function(e){return"string"==typeof e?t.getData(JSON.parse(e)):e&&e.hasOwnProperty("data")?e:t.isArray(e)&&e.length>0&&e[0].data?e[0]:t.isArray(e)?{data:e}:new DataModel},t.getDivider=function(t){var e=1e3;return"ms"===t&&(e=1),"ns"===t&&(e=1e6),e},t}();GTSLib.LOG=new Logger(GTSLib),GTSLib.formatLabel=function(t){var e=t.split("{"),n="<span class=\"gtsInfo\"><span class='gts-classname'>"+e[0]+"</span>";if(e.length>1){n+="<span class='gts-separator'>{</span>";var r=e[1].substr(0,e[1].length-1).split(",");r.length>0&&r.forEach(function(t,e){var o=t.split("=");t.length>1&&(n+="<span><span class='gts-labelname'>"+o[0]+"</span><span class='gts-separator'>=</span><span class='gts-labelvalue'>"+o[1]+"</span>",e!==r.length-1&&(n+="<span>, </span>"))}),n+="<span class='gts-separator'>}</span>"}if(e.length>2){n+="<span class='gts-separator'>{</span>";var o=e[2].substr(0,e[2].length-1).split(",");o.length>0&&o.forEach(function(t,e){var r=t.split("=");t.length>1&&(n+="<span><span class='gts-attrname'>"+r[0]+"</span><span class='gts-separator'>=</span><span class='gts-attrvalue'>"+r[1]+"</span>",e!==o.length-1&&(n+="<span>, </span>"))}),n+="<span class='gts-separator'>}</span>"}return n+="</span>"};var commonjsGlobal="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function createCommonjsModule(t,e){return t(e={exports:{}},e.exports),e.exports}function getCjsExportFromNamespace(t){return t&&t.default||t}var keys=createCommonjsModule(function(t,e){function n(t){var e=[];for(var n in t)e.push(n);return e}(t.exports="function"==typeof Object.keys?Object.keys:n).shim=n}),keys_1=keys.shim,is_arguments=createCommonjsModule(function(t,e){var n="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function r(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function o(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}(e=t.exports=n?r:o).supported=r,e.unsupported=o}),is_arguments_1=is_arguments.supported,is_arguments_2=is_arguments.unsupported,deepEqual_1=createCommonjsModule(function(t){var e=Array.prototype.slice,n=t.exports=function(t,s,a){return a||(a={}),t===s||(t instanceof Date&&s instanceof Date?t.getTime()===s.getTime():!t||!s||"object"!=typeof t&&"object"!=typeof s?a.strict?t===s:t==s:function(t,s,a){var i,l;if(r(t)||r(s))return!1;if(t.prototype!==s.prototype)return!1;if(is_arguments(t))return!!is_arguments(s)&&(t=e.call(t),s=e.call(s),n(t,s,a));if(o(t)){if(!o(s))return!1;if(t.length!==s.length)return!1;for(i=0;i<t.length;i++)if(t[i]!==s[i])return!1;return!0}try{var u=keys(t),c=keys(s)}catch(t){return!1}if(u.length!=c.length)return!1;for(u.sort(),c.sort(),i=u.length-1;i>=0;i--)if(u[i]!=c[i])return!1;for(i=u.length-1;i>=0;i--)if(!n(t[l=u[i]],s[l],a))return!1;return typeof t==typeof s}(t,s,a))};function r(t){return null==t}function o(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length||"function"!=typeof t.copy||"function"!=typeof t.slice||t.length>0&&"number"!=typeof t[0])}}),Param=function(){this.showDots=!1,this.timeUnit="us"};export{ChartLib as a,GTSLib as b,deepEqual_1 as c,Logger as d,Param as e,DataModel as f,createCommonjsModule as g,commonjsGlobal as h,getCjsExportFromNamespace as i};