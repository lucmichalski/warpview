/*! Built with http://stenciljs.com */
quantumviz.loadBundle("qw2fxzkv",["exports","./chunk-d9eae628.js","./chunk-e262070a.js","./chunk-12ee72ee.js"],function(t,e,r,i){var n=window.quantumviz.h,a=function(){function t(){this.unit="",this.chartTitle="",this.responsive=!1,this.showLegend=!0,this.data="[]",this.options={},this.width="",this.height=""}return t.prototype.redraw=function(t,e){e!==t&&this.drawChart()},t.prototype.drawChart=function(){var t=this.el.shadowRoot.querySelector("#myChart"),r=JSON.parse(this.data);if(r){var i=this;new e.Chart(t,{type:"bubble",tooltips:{mode:"x",position:"nearest",custom:function(t){t.opacity>0?i.pointHover.emit({x:t.dataPoints[0].x+15,y:this._eventPosition.y}):i.pointHover.emit({x:-100,y:this._eventPosition.y})}},legend:{display:this.showLegend},data:{datasets:this.parseData(r)},options:{borderWidth:1,scales:{yAxes:[{afterFit:function(t){t.width=100}}]},responsive:this.responsive}})}},t.prototype.parseData=function(t){if(t){for(var e=[],i=function(i){var n=Object.keys(t[i])[0],a=[],o=t[i][n];r.GTSLib.isArray(o)&&o.forEach(function(t){a.push({x:t[0],y:t[1],r:t[2]})}),e.push({data:a,label:n,backgroundColor:r.GTSLib.transparentize(r.GTSLib.getColor(i),.5),borderColor:r.GTSLib.getColor(i),borderWidth:1})},n=0;n<t.length;n++)i(n);return e}},t.prototype.componentDidLoad=function(){this.drawChart()},t.prototype.render=function(){return n("div",null,n("h1",null,this.chartTitle),n("div",{class:"chart-container"},this.responsive?n("canvas",{id:"myChart"}):n("canvas",{id:"myChart",width:this.width,height:this.height})))},Object.defineProperty(t,"is",{get:function(){return"quantum-bubble"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"encapsulation",{get:function(){return"shadow"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"properties",{get:function(){return{chartTitle:{type:String,attr:"chart-title"},data:{type:String,attr:"data",watchCallbacks:["redraw"]},el:{elementRef:!0},height:{type:String,attr:"height"},options:{type:"Any",attr:"options"},responsive:{type:Boolean,attr:"responsive"},showLegend:{type:Boolean,attr:"show-legend"},timeMax:{type:Number,attr:"time-max"},timeMin:{type:Number,attr:"time-min"},unit:{type:String,attr:"unit"},width:{type:String,attr:"width"}}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"events",{get:function(){return[{name:"pointHover",method:"pointHover",bubbles:!0,cancelable:!0,composed:!0}]},enumerable:!0,configurable:!0}),Object.defineProperty(t,"style",{get:function(){return".chart-container{width:var(--quantum-chart-width,100%);height:var(--quantum-chart-height,100%);position:relative}"},enumerable:!0,configurable:!0}),t}(),o=function(){function t(){this.unit="",this.type="pie",this.chartTitle="",this.responsive=!1,this.showLegend=!0,this.data="[]",this.options={},this.width="",this.height=""}return t.prototype.redraw=function(t,e){e!==t&&this.drawChart()},t.prototype.generateColors=function(t){for(var e=[],i=0;i<t;i++)e.push(r.GTSLib.getColor(i));return e},t.prototype.parseData=function(t){var e=[],r=[];return t.forEach(function(t){r.push(t[1]),e.push(t[0])}),{labels:e,data:r}},t.prototype.drawChart=function(){var t=this.el.shadowRoot.querySelector("#myChart"),r=this.parseData(JSON.parse(this.data));new e.Chart(t,{type:"gauge"===this.type?"doughnut":this.type,legend:{display:this.showLegend},data:{datasets:[{data:r.data,backgroundColor:this.generateColors(r.data.length),label:this.chartTitle}],labels:r.labels},options:{responsive:this.responsive,tooltips:{mode:"index",intersect:!0},circumference:this.getCirc(),rotation:this.getRotation()}})},t.prototype.getRotation=function(){return"gauge"===this.type?Math.PI:-.5*Math.PI},t.prototype.getCirc=function(){return"gauge"===this.type?Math.PI:2*Math.PI},t.prototype.componentDidLoad=function(){this.drawChart()},t.prototype.render=function(){return n("div",null,n("h1",null,this.chartTitle),n("div",{class:"chart-container"},this.responsive?n("canvas",{id:"myChart"}):n("canvas",{id:"myChart",width:this.width,height:this.height})))},Object.defineProperty(t,"is",{get:function(){return"quantum-pie"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"encapsulation",{get:function(){return"shadow"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"properties",{get:function(){return{chartTitle:{type:String,attr:"chart-title"},data:{type:String,attr:"data",watchCallbacks:["redraw"]},el:{elementRef:!0},height:{type:String,attr:"height"},options:{type:"Any",attr:"options"},responsive:{type:Boolean,attr:"responsive"},showLegend:{type:Boolean,attr:"show-legend"},type:{type:String,attr:"type"},unit:{type:String,attr:"unit"},width:{type:String,attr:"width"}}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"style",{get:function(){return"host .chart-container{width:var(--quantum-chart-width,100%);height:var(--quantum-chart-height,100%);position:relative}"},enumerable:!0,configurable:!0}),t}(),s=function(){function t(){this.unit="",this.type="polar",this.chartTitle="",this.responsive=!1,this.showLegend=!0,this.data="[]",this.options={},this.width="",this.height=""}return t.prototype.redraw=function(t,e){e!==t&&this.drawChart()},t.prototype.generateColors=function(t){for(var e=[],i=0;i<t;i++)e.push(r.GTSLib.transparentize(r.GTSLib.getColor(i),.5));return e},t.prototype.parseData=function(t){var e=[],r=[];return t.forEach(function(t){r.push(t[1]),e.push(t[0])}),{labels:e,datas:r}},t.prototype.drawChart=function(){var t=this.el.shadowRoot.querySelector("#myChart"),r=this.parseData(JSON.parse(this.data));new e.Chart.PolarArea(t,{type:this.type,legend:{display:this.showLegend},data:{datasets:[{data:r.datas,backgroundColor:this.generateColors(r.datas.length),label:this.chartTitle}],labels:r.labels},options:{responsive:this.responsive,tooltips:{mode:"index",intersect:!0}}})},t.prototype.componentDidLoad=function(){this.drawChart()},t.prototype.render=function(){return n("div",null,n("h1",null,this.chartTitle),n("div",{class:"chart-container"},this.responsive?n("canvas",{id:"myChart"}):n("canvas",{id:"myChart",width:this.width,height:this.height})))},Object.defineProperty(t,"is",{get:function(){return"quantum-polar"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"encapsulation",{get:function(){return"shadow"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"properties",{get:function(){return{chartTitle:{type:String,attr:"chart-title"},data:{type:String,attr:"data",watchCallbacks:["redraw"]},el:{elementRef:!0},height:{type:String,attr:"height"},options:{type:"Any",attr:"options"},responsive:{type:Boolean,attr:"responsive"},showLegend:{type:Boolean,attr:"show-legend"},type:{type:String,attr:"type"},unit:{type:String,attr:"unit"},width:{type:String,attr:"width"}}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"style",{get:function(){return".chart-container{width:var(--quantum-chart-width,100%);height:var(--quantum-chart-height,100%);position:relative}"},enumerable:!0,configurable:!0}),t}(),h=function(){function t(){this.unit="",this.chartTitle="",this.responsive=!1,this.showLegend=!0,this.data="[]",this.options={},this.width="",this.height=""}return t.prototype.redraw=function(t,e){e!==t&&this.drawChart()},t.prototype.drawChart=function(){var t=this.el.shadowRoot.querySelector("#myChart"),r=this.gtsToScatter(JSON.parse(this.data)),i=this;new e.Chart.Scatter(t,{data:{datasets:r},options:{legend:{display:this.showLegend},responsive:this.responsive,tooltips:{mode:"x",position:"nearest",custom:function(t){t.opacity>0?i.pointHover.emit({x:t.dataPoints[0].x+15,y:this._eventPosition.y}):i.pointHover.emit({x:-100,y:this._eventPosition.y})}},scales:{xAxes:[{type:"time",time:{min:this.timeMin,max:this.timeMax}}],yAxes:[{afterFit:function(t){t.width=100},scaleLabel:{display:!0,labelString:this.unit}}]}}})},t.prototype.gtsToScatter=function(t){var e=[];return t.forEach(function(t){for(var i=function(i){var n=t.gts[i],a=[];n.v.forEach(function(t){a.push({x:t[0]/1e3,y:t[t.length-1]})});var o=r.GTSLib.getColor(i);t.params&&t.params[i]&&t.params[i].color&&(o=t.params[i].color);var s=n.c+" - "+JSON.stringify(n.l);t.params&&t.params[i]&&t.params[i].key&&(s=t.params[i].key),e.push({label:s,data:a,pointRadius:2,borderColor:o,backgroundColor:r.GTSLib.transparentize(o,.5)})},n=0;n<t.gts.length;n++)i(n)}),e},t.prototype.componentDidLoad=function(){this.drawChart()},t.prototype.render=function(){return n("div",null,n("h1",null,this.chartTitle),n("div",{class:"chart-container"},this.responsive?n("canvas",{id:"myChart"}):n("canvas",{id:"myChart",width:this.width,height:this.height})))},Object.defineProperty(t,"is",{get:function(){return"quantum-scatter"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"encapsulation",{get:function(){return"shadow"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"properties",{get:function(){return{chartTitle:{type:String,attr:"chart-title"},data:{type:String,attr:"data",watchCallbacks:["redraw"]},el:{elementRef:!0},height:{type:String,attr:"height"},options:{type:"Any",attr:"options"},responsive:{type:Boolean,attr:"responsive"},showLegend:{type:Boolean,attr:"show-legend"},timeMax:{type:Number,attr:"time-max"},timeMin:{type:Number,attr:"time-min"},unit:{type:String,attr:"unit"},width:{type:String,attr:"width"}}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"events",{get:function(){return[{name:"pointHover",method:"pointHover",bubbles:!0,cancelable:!0,composed:!0}]},enumerable:!0,configurable:!0}),Object.defineProperty(t,"style",{get:function(){return"quantum-scatter .chart-container{width:var(--quantum-chart-width,100%);height:var(--quantum-chart-height,100%);position:relative}"},enumerable:!0,configurable:!0}),t}(),p=function(){function t(){this.warpscript="",this.data="[]",this.unit="",this.type="line",this.chartTitle="",this.responsive=!1,this.showLegend=!0,this.url="",this.graphs={scatter:["scatter"],chart:["line","spline","step-after","step-before","area","bar"],pie:["pie","doughnut","gauge"],polar:["polar"]}}return t.prototype.componentDidLoad=function(){this.warpscript=this.wsElement.textContent;var t=this;fetch(this.url,{method:"POST",body:this.warpscript}).then(function(e){e.text().then(function(e){var r=JSON.parse(e),i=[];"doughnut"===t.type||"pie"===t.type||"polar"===t.type||"gauge"===t.type||"bubble"===t.type?(r.length>0&&Array.isArray(r[0])&&(r=r[0]),t.data=JSON.stringify(r)):(r.length>0&&Array.isArray(r[0])&&(r=r[0]),i.push({gts:r,params:t.getParams(r)}),t.data=JSON.stringify(i))},function(t){console.error(t)})},function(t){console.error(t)})},t.prototype.getParams=function(t){for(var e=[],i=0;i<t.length;i++){var n=t[i];e.push({color:r.GTSLib.getColor(i),key:n.c,interpolate:this.type})}return e},t.prototype.render=function(){return this.graphs.scatter.indexOf(this.type)>-1?n("quantum-scatter",{responsive:this.responsive,unit:this.unit,data:this.data,"show-legend":this.showLegend,chartTitle:this.chartTitle}):this.graphs.chart.indexOf(this.type)>-1?n("quantum-chart",{responsive:this.responsive,unit:this.unit,data:this.data,type:this.type,"show-legend":this.showLegend,chartTitle:this.chartTitle}):"bubble"==this.type?n("quantum-bubble",{"show-legend":this.showLegend,responsive:this.responsive,unit:this.unit,data:this.data,chartTitle:this.chartTitle}):this.graphs.pie.indexOf(this.type)>-1?n("quantum-pie",{responsive:this.responsive,unit:this.unit,data:this.data,type:this.type,"show-legend":this.showLegend,chartTitle:this.chartTitle}):this.graphs.polar.indexOf(this.type)>-1?n("quantum-polar",{responsive:this.responsive,unit:this.unit,data:this.data,type:this.type,"show-legend":this.showLegend,chartTitle:this.chartTitle}):void 0},Object.defineProperty(t,"is",{get:function(){return"quantum-tile"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"encapsulation",{get:function(){return"shadow"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"properties",{get:function(){return{chartTitle:{type:String,attr:"chart-title"},data:{state:!0},responsive:{type:Boolean,attr:"responsive"},showLegend:{type:Boolean,attr:"show-legend"},type:{type:String,attr:"type"},unit:{type:String,attr:"unit"},url:{type:String,attr:"url"},wsElement:{elementRef:!0}}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"style",{get:function(){return""},enumerable:!0,configurable:!0}),t}();t.QuantumBubble=a,t.QuantumPie=o,t.QuantumPolar=s,t.QuantumScatter=h,t.QuantumTile=p,Object.defineProperty(t,"__esModule",{value:!0})});