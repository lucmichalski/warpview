/*! Built with http://stenciljs.com */
const{h:t}=window.quantumviz;import{a as e}from"./chunk-357e00db.js";class i{constructor(){this.cursorSize="{}",this.config="{}",this._config={rail:{class:""},cursor:{class:""}},this._cursorMinWidth=30}changeCursorSize(t,e){if(e!==t){let e=JSON.parse(t);e.cursorOffset+e.cursorSize<=100&&(this._cursor.style.left=(100*e.cursorOffset).toString()+"%",e.cursorSize*this._rail.getBoundingClientRect().width<this._cursorMinWidth?this._cursor.style.width=this._cursorMinWidth.toString()+"px":this._cursor.style.width=(100*e.cursorSize).toString()+"%")}}initSize(t,e){e!==t&&(this._rail.style.width=(.94*t).toString()+"px",console.log("width",(.94*t).toString()),console.log(this._rail.getBoundingClientRect()))}componentWillLoad(){this._config=e.mergeDeep(this._config,JSON.parse(this.config))}componentDidLoad(){this._rail=this.el.shadowRoot.querySelector("#rail"),this._cursor=this.el.shadowRoot.querySelector("#cursor")}mouseDown(t){t.preventDefault();let e=this;this.dimsX(t),this._rail.onmousemove=(t=>{e.dragX(t,e)}),this._cursor.onmouseup=(t=>{e.stopDrag(e)}),this._rail.onmouseup=(t=>{e.stopDrag(e)}),this._rail.onmouseout=(t=>{e.stopDrag(e)})}dimsX(t){let e=this._rail.getBoundingClientRect(),i=this._cursor.getBoundingClientRect();this._railMin=e.x,this._railMax=e.width+this._railMin,this._cursorWidth=i.width,this._mouseCursorLeftOffset=t.x-i.x,this._mouseCursorRightOffset=i.width-this._mouseCursorLeftOffset}dragX(t,e){if(t.preventDefault(),t.clientX-e._mouseCursorLeftOffset>=e._railMin+1&&t.clientX+e._mouseCursorRightOffset<=e._railMax-1){let i=t.clientX-e._rail.offsetLeft-e._mouseCursorLeftOffset;i=i<0?0:i,e._cursor.style.left=i+"px";let s=i/(this._railMax-this._railMin-this._cursorWidth)*(this.maxValue-this.minValue)+this.minValue;this.xSliderValueChanged.emit({sliderValue:s})}}stopDrag(t){t._rail.onmouseup=null,t._rail.onmousemove=null,t._cursor.onmouseup=null,t._rail.onmouseout=null}xWheel(t){t.preventDefault();let e=this._rail.getBoundingClientRect(),i=(t.pageX-this._rail.offsetLeft)/e.width;this.xZoom.emit({zoomValue:{coef:i,zoomType:-1*t.deltaY}})}yWheel(t){t.preventDefault()}render(){return t("div",{id:"rail",class:"rail "+this._config.rail.class,onWheel:t=>this.xWheel(t)},t("div",{id:"cursor",class:"cursor "+this._config.cursor.class,onMouseDown:t=>this.mouseDown(t)}))}static get is(){return"quantum-horizontal-zoom-slider"}static get encapsulation(){return"shadow"}static get properties(){return{config:{type:String,attr:"config"},cursorSize:{type:String,attr:"cursor-size",watchCallbacks:["changeCursorSize"]},el:{elementRef:!0},maxValue:{type:Number,attr:"max-value"},minValue:{type:Number,attr:"min-value"},width:{type:Number,attr:"width",watchCallbacks:["initSize"]}}}static get events(){return[{name:"xSliderValueChanged",method:"xSliderValueChanged",bubbles:!0,cancelable:!0,composed:!0},{name:"xZoom",method:"xZoom",bubbles:!0,cancelable:!0,composed:!0}]}static get style(){return":host .rail{position:relative;background-color:var(--quantum-bg-rail-color,grey);opacity:.7;float:right;left:0;height:20px;margin:0;border:1px solid var(--quantum-border-rail-color,#000);border-radius:var(--quantum-border-radius,6px);padding:0}:host .rail:hover{opacity:1}:host .cursor{background-color:var(--quantum-bg-cursor-color,red);position:relative;cursor:move;width:100%;height:20px;border:1px solid var(--quantum-border-cursor-color,#000);border-radius:var(--quantum-border-radius,6px);left:0;-webkit-transition:left .01s;transition:left .01s}"}}class s{constructor(){this.cursorSize="{}",this.config="{}",this._config={rail:{class:""},cursor:{class:""}},this._cursorMinHeight=30}changeCursorSize(t,e){if(e!==t){let e=JSON.parse(t);e.cursorOffset+e.cursorSize<=100&&(this._cursor.style.top=(100*e.cursorOffset).toString()+"%",e.cursorSize*this._rail.getBoundingClientRect().height<this._cursorMinHeight?this._cursor.style.height=this._cursorMinHeight.toString()+"px":this._cursor.style.height=(100*e.cursorSize).toString()+"%")}}initSize(t,e){e!==t&&(this._rail.style.height=(.97*t).toString()+"px",console.log("width",(.94*t).toString()),console.log(this._rail.getBoundingClientRect()))}componentWillLoad(){this._config=e.mergeDeep(this._config,JSON.parse(this.config)),console.log("V slider :",this._config)}componentDidLoad(){this._rail=this.el.shadowRoot.querySelector("#rail"),this._cursor=this.el.shadowRoot.querySelector("#cursor")}mouseDown(t){console.log("min et max",this.minValue,this.maxValue),t.preventDefault();let e=this;this.dimsY(t),this._rail.onmousemove=(t=>{e.dragY(t,e)}),this._cursor.onmouseup=(t=>{e.stopDrag(e)}),this._rail.onmouseup=(t=>{e.stopDrag(e)}),this._rail.onmouseout=(t=>{e.stopDrag(e)})}dimsY(t){let e=this._rail.getBoundingClientRect(),i=this._cursor.getBoundingClientRect();this._railMin=this._rail.offsetTop,this._railMax=e.height+this._rail.offsetTop,this._cursorHeight=i.height,this._mouseCursorTopOffset=t.pageY-this._rail.offsetTop-this._cursor.offsetTop,this._mouseCursorBottomOffset=i.height-this._mouseCursorTopOffset}dragY(t,e){if(t.preventDefault(),t.pageY-e._mouseCursorTopOffset>=e._railMin+1&&t.pageY+e._mouseCursorBottomOffset<=e._railMax-1){let i=t.pageY-e._rail.offsetTop-e._mouseCursorTopOffset;i=i<0?0:i,e._cursor.style.top=i+"px";let s=i/(this._railMax-this._railMin-this._cursorHeight)*(this.maxValue-this.minValue)+this.minValue;s=this.maxValue-this.minValue-s,this.ySliderValueChanged.emit({sliderValue:s}),console.log("V",i),console.log(s)}}stopDrag(t){t._rail.onmouseup=null,t._rail.onmousemove=null,t._cursor.onmouseup=null,t._rail.onmouseout=null}yWheel(t){t.preventDefault();let e=this._rail.getBoundingClientRect(),i=(t.pageY-this._rail.offsetTop)/e.height;this.yZoom.emit({zoomValue:{coef:i,zoomType:-1*t.deltaY}})}render(){return t("div",{id:"rail",class:"rail "+this._config.rail.class,onWheel:t=>this.yWheel(t)},t("div",{id:"cursor",class:"cursor "+this._config.cursor.class,onMouseDown:t=>this.mouseDown(t)}))}static get is(){return"quantum-vertical-zoom-slider"}static get encapsulation(){return"shadow"}static get properties(){return{config:{type:String,attr:"config"},cursorSize:{type:String,attr:"cursor-size",watchCallbacks:["changeCursorSize"]},el:{elementRef:!0},height:{type:Number,attr:"height",watchCallbacks:["initSize"]},maxValue:{type:Number,attr:"max-value"},minValue:{type:Number,attr:"min-value"}}}static get events(){return[{name:"ySliderValueChanged",method:"ySliderValueChanged",bubbles:!0,cancelable:!0,composed:!0},{name:"yZoom",method:"yZoom",bubbles:!0,cancelable:!0,composed:!0}]}static get style(){return":host .rail{position:absolute;background-color:var(--quantum-bg-rail-color,grey);opacity:.7;width:20px;margin:0 0 20px 0;border:1px solid var(--quantum-border-rail-color,#000);border-radius:var(--quantum-border-radius,6px);padding:0}:host .rail:hover{opacity:1}:host .cursor{background-color:var(--quantum-bg-cursor-color,red);position:relative;cursor:move;width:20px;height:100%;border:1px solid var(--quantum-border-cursor-color,#000);border-radius:var(--quantum-border-radius,6px);-webkit-transition:top .01s;transition:top .01s}"}}export{i as QuantumHorizontalZoomSlider,s as QuantumVerticalZoomSlider};