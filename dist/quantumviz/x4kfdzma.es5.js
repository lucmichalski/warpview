/*! Built with http://stenciljs.com */
quantumviz.loadBundle("x4kfdzma",["exports","./chunk-d9eae628.js","./chunk-7dbf784a.js","./chunk-26d6cf12.js","./chunk-12ee72ee.js","./chunk-e262070a.js"],function(t,i,e,a,h,r){var n=window.quantumviz.h,o=function(){function t(){this.unit="",this.type="line",this.chartTitle="",this.responsive=!1,this.showLegend=!1,this.data="[]",this.hiddenData="[]",this.options="{}",this.width="",this.height="",this._chart={xMin:0,xMax:0,yMin:0,yMax:0,xMinView:0,xMaxView:0,yMinView:0,yMaxView:0},this._xView="{}",this._yView="{}",this._slider={x:{element:null,width:0,max:0,cursorSize:"{}"},y:{element:null,height:0,max:0,cursorSize:"{}"}}}return t.prototype.chartInfosWatcher=function(t){console.log("[chartInfosWatcher]"),this._chart.xMin=t.detail.xMin,this._chart.xMinView=t.detail.xMin,this._chart.xMax=t.detail.xMax,this._slider.x.max=t.detail.xMax,this._chart.xMaxView=t.detail.xMax,this._chart.yMin=t.detail.yMin,this._chart.yMinView=t.detail.yMin,this._chart.yMax=t.detail.yMax,this._slider.y.max=t.detail.yMax,this._chart.yMaxView=t.detail.yMax},t.prototype.xSliderInit=function(){console.log("[xSliderInit]"),this._slider.x.width=this.el.shadowRoot.querySelector("#myChart").getBoundingClientRect().width},t.prototype.ySliderInit=function(){console.log("[ySliderInit]"),this._slider.y.height=this.el.shadowRoot.querySelector("#myChart").getBoundingClientRect().height},t.prototype.componentDidLoad=function(){this.xSliderInit(),this.ySliderInit(),this.wc.forceUpdate()},t.prototype.xZoomListener=function(t){console.log("[xZoom]");var e=this._chart.xMinView,a=this._chart.xMaxView,h=a-e;t.detail.zoomValue.zoomType>0?(e+=.1*h*t.detail.zoomValue.coef,a-=.1*h*(1-t.detail.zoomValue.coef)):(e-=.15*h*t.detail.zoomValue.coef,a+=.15*h*(1-t.detail.zoomValue.coef)),e=e<this._chart.xMin?this._chart.xMin:e,a=a>this._chart.xMax?this._chart.xMax:a,this._chart.xMinView=e,this._chart.xMaxView=a,this._xView=JSON.stringify({min:i.moment(this._chart.xMinView,"x"),max:i.moment(this._chart.xMaxView,"x")}),h=this._chart.xMaxView-this._chart.xMinView,this._slider.x.max=this._chart.xMax-h;var r=h/(this._chart.xMax-this._chart.xMin),n=(this._chart.xMinView-this._chart.xMin)/(this._chart.xMax-this._chart.xMin);this._slider.x.cursorSize=JSON.stringify({cursorSize:r,cursorOffset:n}),this.boundsDidChange.emit({bounds:{min:this._chart.xMinView,max:this._chart.xMaxView}}),this.wc.forceUpdate()},t.prototype.yZoomListener=function(t){console.log("[yZoom]");var i=this._chart.yMinView,e=this._chart.yMaxView,a=e-i;t.detail.zoomValue.zoomType>0?(i+=.1*a*(1-t.detail.zoomValue.coef),e-=.1*a*t.detail.zoomValue.coef):(i-=.15*a*(1-t.detail.zoomValue.coef),e=e+.15*a*1-t.detail.zoomValue.coef),i=i<this._chart.yMin?this._chart.yMin:i,e=e>this._chart.yMax?this._chart.yMax:e,this._chart.yMinView=i,this._chart.yMaxView=e,console.log("yMinView",this._chart.yMinView,"yMaxView",this._chart.yMaxView),this._yView=JSON.stringify({min:this._chart.yMinView,max:this._chart.yMaxView}),a=this._chart.yMaxView-this._chart.yMinView,this._slider.y.max=this._chart.yMax-a;var h=a/(this._chart.yMax-this._chart.yMin),r=(this._chart.yMinView-this._chart.yMin)/(this._chart.yMax-this._chart.yMin);this._slider.y.cursorSize=JSON.stringify({cursorSize:h,cursorOffset:r}),this.wc.forceUpdate()},t.prototype.render=function(){return n("div",{class:"wrapper"},n("quantum-vertical-zoom-slider",{height:this._slider.y.height,id:"ySlider","min-value":this._chart.yMin,"max-value":this._slider.y.max,cursorSize:this._slider.y.cursorSize}),n("quantum-chart",{id:"myChart",alone:!1,unit:this.unit,type:this.type,"chart-title":this.chartTitle,responsive:this.responsive,"show-legend":this.showLegend,data:this.data,"hidden-data":this.hiddenData,options:this.options,width:this.width,height:this.height,"time-min":this.timeMin,"time-max":this.timeMax,xView:this._xView,yView:this._yView}),n("quantum-toggle",{id:"timeSwitch"}),n("quantum-horizontal-zoom-slider",{id:"xSlider",width:this._slider.x.width,"min-value":this._chart.xMin,"max-value":this._slider.x.max,cursorSize:this._slider.x.cursorSize}))},Object.defineProperty(t,"is",{get:function(){return"quantum-chart-zoom"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"encapsulation",{get:function(){return"shadow"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"properties",{get:function(){return{chartTitle:{type:String,attr:"chart-title"},data:{type:String,attr:"data"},el:{elementRef:!0},height:{type:String,attr:"height"},hiddenData:{type:String,attr:"hidden-data"},options:{type:String,attr:"options"},responsive:{type:Boolean,attr:"responsive"},showLegend:{type:Boolean,attr:"show-legend"},timeMax:{type:Number,attr:"time-max"},timeMin:{type:Number,attr:"time-min"},type:{type:String,attr:"type"},unit:{type:String,attr:"unit"},wc:{elementRef:!0},width:{type:String,attr:"width"}}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"events",{get:function(){return[{name:"boundsDidChange",method:"boundsDidChange",bubbles:!0,cancelable:!0,composed:!0}]},enumerable:!0,configurable:!0}),Object.defineProperty(t,"listeners",{get:function(){return[{name:"chartInfos",method:"chartInfosWatcher"},{name:"xZoom",method:"xZoomListener"},{name:"yZoom",method:"yZoomListener"}]},enumerable:!0,configurable:!0}),Object.defineProperty(t,"style",{get:function(){return":host .chart-container{width:var(--quantum-chart-width,100%);height:var(--quantum-chart-height,100%);position:relative}:host .wrapper{display:grid;grid-template-columns:30px auto;grid-template-rows:auto 30px;margin:10px}:host #ySlider{grid-row:1;grid-column:1}:host #xSlider{grid-row:2;grid-column:2}:host #myChart{grid-row:1;grid-column:2}"},enumerable:!0,configurable:!0}),t}();t.QuantumChart=e.QuantumChart,t.QuantumToggle=a.QuantumToggle,t.QuantumChartZoom=o,Object.defineProperty(t,"__esModule",{value:!0})});