/*! Built with http://stenciljs.com */
warpview.loadBundle("7sh1hwkn",["exports","./chunk-4b6cc261.js"],function(e,t){var n=window.warpview.h,i=function(){},r=function(){function e(){this._node={selected:!0,gts:i},this.LOG=new t.Logger(e)}return e.prototype.handleKeyDown=function(e){"a"===e.key&&this.setState(!0),"n"===e.key&&this.setState(!1)},e.prototype.colorizeChip=function(){var e=this.el.getElementsByClassName("normal")[0];this._node.selected?(e.style.setProperty("background-color",t.ColorLib.transparentize(t.ColorLib.getColor(this._node.index),.7)),e.style.setProperty("border-color",t.ColorLib.getColor(this._node.index))):e.style.setProperty("background-color","#eeeeee")},e.prototype.componentWillLoad=function(){this._node=Object.assign({},this.node,{selected:!0})},e.prototype.componentDidLoad=function(){this.colorizeChip()},e.prototype.lastIndex=function(e,t){return e===this.toArray(t).length-1},e.prototype.toArray=function(e){return void 0===e?[]:Object.keys(e).map(function(t){return{name:t,value:e[t]}})},e.prototype.switchPlotState=function(e){this.setState(!this._node.selected)},e.prototype.setState=function(e){this._node=Object.assign({},this._node,{selected:e,label:t.GTSLib.serializeGtsMetadata(this._node.gts)}),this.LOG.debug(["switchPlotState"],this._node),this.colorizeChip(),this.warpViewSelectedGTS.emit(this._node)},e.prototype.render=function(){var e=this;return n("div",null,this._node&&this._node.gts&&this._node.gts.l?n("span",null,n("i",{class:"normal"}),n("span",{class:"gtsInfo",onClick:function(t){return e.switchPlotState(t)}},n("span",{class:"gts-classname"},"  ",this._node.gts.c),n("span",{class:"gts-separator",innerHTML:"&lcub; "}),this.toArray(this._node.gts.l).map(function(t,i){return n("span",null,n("span",{class:"gts-labelname"},t.name),n("span",{class:"gts-separator"},"="),n("span",{class:"gts-labelvalue"},t.value),n("span",{hidden:e.lastIndex(i,e._node.gts.l)},", "))}),n("span",{class:"gts-separator",innerHTML:" &rcub;"}),this.toArray(this._node.gts.a).length>0?n("span",null,n("span",{class:"gts-separator",innerHTML:"&lcub; "}),this.toArray(this._node.gts.a).map(function(t,i){return n("span",null,n("span",{class:"gts-attrname"},t.name),n("span",{class:"gts-separator"},"="),n("span",{class:"gts-attrvalue"},t.value),n("span",{hidden:e.lastIndex(i,e._node.gts.a)},", "))}),n("span",{class:"gts-separator",innerHTML:" &rcub;"})):"")):"")},Object.defineProperty(e,"is",{get:function(){return"warp-view-chip"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{el:{elementRef:!0},index:{type:Number,attr:"index"},name:{type:String,attr:"name"},node:{type:"Any",attr:"node"}}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"events",{get:function(){return[{name:"warpViewSelectedGTS",method:"warpViewSelectedGTS",bubbles:!0,cancelable:!0,composed:!0}]},enumerable:!0,configurable:!0}),Object.defineProperty(e,"listeners",{get:function(){return[{name:"document:keyup",method:"handleKeyDown"}]},enumerable:!0,configurable:!0}),Object.defineProperty(e,"style",{get:function(){return"/*!\n *\n *    Copyright 2016  Cityzen Data\n *\n *    Licensed under the Apache License, Version 2.0 (the \"License\");\n *    you may not use this file except in compliance with the License.\n *    You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n *    Unless required by applicable law or agreed to in writing, software\n *    distributed under the License is distributed on an \"AS IS\" BASIS,\n *    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *    See the License for the specific language governing permissions and\n *    limitations under the License.\n *\n */:host .normal{border-radius:50%;background-color:#bbb;display:inline-block;width:120px;height:12px;border:2px solid #454545;margin-top:auto;margin-bottom:auto;vertical-align:middle}"},enumerable:!0,configurable:!0}),e}(),s=function(){function e(){this.theme="light",this.hide=!1,this.gtsList={content:[]},this.LOG=new t.Logger(e)}return e.prototype.onData=function(e,t){e!==t&&this.doRender()},e.prototype.componentWillLoad=function(){this.LOG.debug(["componentWillLoad","data"],this.data),this.data&&this.doRender()},e.prototype.doRender=function(){var e=t.GTSLib.getData(this.data).data;this.gtsList=t.GTSLib.gtsFromJSONList(e,""),this.LOG.debug(["doRender","gtsList"],this.data)},e.prototype.toggleVisibility=function(e){console.log("[WarpViewTreeView] - toggleVisibility",e.detail,e.currentTarget);var t=e.currentTarget.firstChild;"expanded"===t.className?(t.className="collapsed",this.hide=!0):(t.className="expanded",this.hide=!1)},e.prototype.render=function(){var e=this;return this.gtsList?n("div",null,n("div",{class:"stack-level",onClick:function(t){return e.toggleVisibility(t)}},n("span",{class:"expanded"})," Stack"),n("warp-view-tree-view",{gtsList:this.gtsList,branch:!1,theme:this.theme,hidden:this.hide})):""},Object.defineProperty(e,"is",{get:function(){return"warp-view-gts-tree"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{data:{type:String,attr:"data",watchCallbacks:["onData"]},hide:{state:!0},theme:{type:String,attr:"theme"}}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"style",{get:function(){return"/*!\n *\n *    Copyright 2016  Cityzen Data\n *\n *    Licensed under the Apache License, Version 2.0 (the \"License\");\n *    you may not use this file except in compliance with the License.\n *    You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n *    Unless required by applicable law or agreed to in writing, software\n *    distributed under the License is distributed on an \"AS IS\" BASIS,\n *    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *    See the License for the specific language governing permissions and\n *    limitations under the License.\n *\n */:host .stack-level{font-size:1em;padding-top:5px;cursor:pointer}:host .stack-level+div{padding-left:25px}:host .expanded{padding:1px 10px;margin-right:5px;background:var(--gts-tree-expanded-icon,url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA7klEQVQ4T82TMW7CQBBF/0g+QOpINEkVCmpaLoBm5COk5QYoaeAY3MDSei2LGu4QKakiBA1tCpTK8kS2sLVe2xSh8XSrnf9m/s4s4c6gO/UYGEBEXlT1bK396bFGIjIJguA7iqJLkVNbYOZXItoQ0QHAzBhz9CCFeAVgCeAjy7Jpmqa/NUBEEgDzktqGuOKKO47j+KsGhGH4lOf5HsDIg5ycyqVYVd+steuGheLAzM9EtPMgW1VdVGWJ6N0YU1gpozVGH+K+gy/uBHR1crXUqNzbQXXhduJ69sd7cxOZ+UFVH5Mk+exb+YGt8n9+5h8up1sReYC0WAAAAABJRU5ErkJggg==));background-position:center left;background-repeat:no-repeat}:host .collapsed{padding:1px 10px;margin-right:5px;background:var(--gts-tree-collapsed-icon,url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA0UlEQVQ4T6WTUW7CQAxEPQdozxYb9Qb94Aj9gQSoVCp6lMr21doDZFCQiFCU3YDY//d2PeOFPHnwJC+zAlVdA/jp+/6YmZ+1S0qCPxF5HUAAO3fvSpKS4ENEvm6gfUS0c5JiBma2Ibm/QiQPmbmdSqohquoA7GqSxRaapmkBjBkAeHP336t0UWBmHcnb+VcR4XcJpjDJLjPHkS4tleqZubmNiDHU6gumDQDYuvvh7hpV9V9EXgaA5Ka2jbMjmNk7yZOIfEfE8eFVfuSDLda4JDsD3FNdEckTC0YAAAAASUVORK5CYII=));background-repeat:no-repeat;background-position:center left}"},enumerable:!0,configurable:!0}),e}(),a=function(){function e(){}return Object.defineProperty(e,"is",{get:function(){return"warp-view-gts-tree"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{data:{type:String,attr:"data",watchCallbacks:["onData"]},hide:{state:!0},theme:{type:String,attr:"theme"}}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"style",{get:function(){return"/**style-placeholder:warp-view-gts-tree:**/"},enumerable:!0,configurable:!0}),e}();a.item=-1;var o=function(){function e(){this.branch=!1,this.theme="light",this.hidden=!1,this.ref=!1,this.hide={}}return e.getIndex=function(e){return a.item++,e.index=a.item,a.item},e.prototype.componentWillLoad=function(){e.LOG.debug(["componentWillLoad"],a.item)},e.prototype.toggleVisibility=function(e,t){var n;console.log("[WarpViewTreeView] - toggleVisibility",e.detail,e.currentTarget),this.ref=!this.ref,e.currentTarget.id?n=e.currentTarget:(n=e.currentTarget.previousElementSibling,console.log("[WarpViewTreeView] - toggleVisibility - parent",n)),"expanded"===n.className?(n.className="collapsed",this.hide[t+""]=!0):(n.className="expanded",this.hide[t+""]=!1)},e.prototype.isHidden=function(e){return!!this.hide.hasOwnProperty(e+"")&&this.hide[e+""]},e.prototype.render=function(){var i=this;return n("div",{class:"list"},this.gtsList&&this.gtsList.content?n("ul",null,this.gtsList.content.map(function(r,s){return n("li",{hidden:i.hidden},t.GTSLib.isGts(r.gts)?n("warp-view-chip",{node:r,index:e.getIndex(r),name:r.gts.c}):n("span",null,r.content?n("div",null,i.branch?n("div",null,n("span",{class:"expanded",onClick:function(e){return i.toggleVisibility(e,s)},id:t.ChartLib.guid()}),n("span",{onClick:function(e){return i.toggleVisibility(e,s)}},n("small",null,"List of ",r.content.length," item",r.content.length>1?"s":""))):n("div",{class:"stack-level"},n("span",{class:"expanded",onClick:function(e){return i.toggleVisibility(e,s)},id:t.ChartLib.guid()}),n("span",{onClick:function(e){return i.toggleVisibility(e,s)}},0===s?"[TOP]":"["+(s+1)+"]"," ",n("small",null,"List of ",r.content.length," item",r.content.length>1?"s":""))),n("warp-view-tree-view",{gtsList:r,branch:!0,hidden:i.isHidden(s)})):""))})):"")},Object.defineProperty(e,"is",{get:function(){return"warp-view-tree-view"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{branch:{type:Boolean,attr:"branch"},el:{elementRef:!0},gtsList:{type:"Any",attr:"gts-list"},hidden:{type:Boolean,attr:"hidden"},ref:{state:!0},theme:{type:String,attr:"theme"}}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"style",{get:function(){return"/*!\n *\n *    Copyright 2016  Cityzen Data\n *\n *    Licensed under the Apache License, Version 2.0 (the \"License\");\n *    you may not use this file except in compliance with the License.\n *    You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n *    Unless required by applicable law or agreed to in writing, software\n *    distributed under the License is distributed on an \"AS IS\" BASIS,\n *    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *    See the License for the specific language governing permissions and\n *    limitations under the License.\n *\n */warp-view-tree-view ul{margin:0;padding:0;list-style:none;border:none;overflow:hidden}warp-view-tree-view li{color:var(--gts-stack-font-color,#000);position:relative;padding:0 0 0 20px;line-height:20px}warp-view-tree-view li .stack-level{font-size:1em;padding-top:5px}warp-view-tree-view li .stack-level+div{padding-left:25px}warp-view-tree-view li .expanded{padding:1px 10px;margin-right:5px;background:var(--gts-tree-expanded-icon,url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA7klEQVQ4T82TMW7CQBBF/0g+QOpINEkVCmpaLoBm5COk5QYoaeAY3MDSei2LGu4QKakiBA1tCpTK8kS2sLVe2xSh8XSrnf9m/s4s4c6gO/UYGEBEXlT1bK396bFGIjIJguA7iqJLkVNbYOZXItoQ0QHAzBhz9CCFeAVgCeAjy7Jpmqa/NUBEEgDzktqGuOKKO47j+KsGhGH4lOf5HsDIg5ycyqVYVd+steuGheLAzM9EtPMgW1VdVGWJ6N0YU1gpozVGH+K+gy/uBHR1crXUqNzbQXXhduJ69sd7cxOZ+UFVH5Mk+exb+YGt8n9+5h8up1sReYC0WAAAAABJRU5ErkJggg==));background-position:center left;background-repeat:no-repeat}warp-view-tree-view li .collapsed{padding:1px 10px;margin-right:5px;background:var(--gts-tree-collapsed-icon,url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA0UlEQVQ4T6WTUW7CQAxEPQdozxYb9Qb94Aj9gQSoVCp6lMr21doDZFCQiFCU3YDY//d2PeOFPHnwJC+zAlVdA/jp+/6YmZ+1S0qCPxF5HUAAO3fvSpKS4ENEvm6gfUS0c5JiBma2Ibm/QiQPmbmdSqohquoA7GqSxRaapmkBjBkAeHP336t0UWBmHcnb+VcR4XcJpjDJLjPHkS4tleqZubmNiDHU6gumDQDYuvvh7hpV9V9EXgaA5Ka2jbMjmNk7yZOIfEfE8eFVfuSDLda4JDsD3FNdEckTC0YAAAAASUVORK5CYII=));background-repeat:no-repeat;background-position:center left}warp-view-tree-view li .gtsInfo{white-space:normal;word-wrap:break-word}warp-view-tree-view li .gtsInfo[disabled]{color:#aaa;cursor:not-allowed}warp-view-tree-view li .normal{border-radius:50%;background-color:#bbb;display:inline-block;width:12px;height:12px}warp-view-tree-view li i,warp-view-tree-view li span{cursor:pointer}warp-view-tree-view li .selected{background-color:#adf;font-weight:700;padding:1px 5px}warp-view-tree-view .gts-classname{color:var(--gts-classname-font-color,#0074d9)}warp-view-tree-view .gts-labelname{color:var(--gts-labelname-font-color,#19a979)}warp-view-tree-view .gts-attrname{color:var(--gts-labelname-font-color,#ed4a7b)}warp-view-tree-view .gts-separator{color:var(--gts-separator-font-color,#bbb)}warp-view-tree-view .gts-labelvalue{color:var(--gts-labelvalue-font-color,#aaa);font-style:italic}warp-view-tree-view .gts-attrvalue{color:var(--gts-labelvalue-font-color,#aaa);font-style:italic}"},enumerable:!0,configurable:!0}),e}();o.LOG=new t.Logger(o),e.WarpViewChip=r,e.WarpViewGtsTree=s,e.WarpViewTreeView=o,Object.defineProperty(e,"__esModule",{value:!0})});