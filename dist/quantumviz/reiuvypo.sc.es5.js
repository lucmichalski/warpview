/*! Built with http://stenciljs.com */
quantumviz.loadBundle("reiuvypo",["exports","./chunk-6ce451e2.js","./chunk-12ee72ee.js"],function(t,e,i){var r=window.quantumviz.h,a=function(){function t(){this.unit="",this.type="line",this.chartTitle="",this.responsive=!1,this.showLegend=!1,this.data="[]",this.hiddenData="[]",this.options="{}",this.width="",this.height="",this._chart={xMin:0,xMax:0,yMin:0,yMax:0,xMinView:0,xMaxView:0,yMinView:0,yMaxView:0},this._xView="{}",this._yView="{}",this._slider={x:{element:null,width:0,max:0,cursorSize:"{}"},y:{element:null,height:0,max:0,cursorSize:"{}"}}}return t.prototype.changeScale=function(t,e){e!==t&&(this._options=t)},t.prototype.chartInfosWatcher=function(t){this._chart.xMin=t.detail.xMin,this._chart.xMinView=t.detail.xMin,this._chart.xMax=t.detail.xMax,this._slider.x.max=t.detail.xMax,this._chart.xMaxView=t.detail.xMax,this._chart.yMin=t.detail.yMin,this._chart.yMinView=t.detail.yMin,this._chart.yMax=t.detail.yMax,this._slider.y.max=t.detail.yMax,this._chart.yMaxView=t.detail.yMax},t.prototype.xSliderInit=function(){this._slider.x.width=this.el.shadowRoot.querySelector("#myChart").getBoundingClientRect().width},t.prototype.ySliderInit=function(){this._slider.y.height=this.el.shadowRoot.querySelector("#myChart").getBoundingClientRect().height},t.prototype.componentDidLoad=function(){this.xSliderInit(),this.ySliderInit(),this.wc.forceUpdate();var t=this.el.shadowRoot.querySelector("#myChart");this.png=t.toBase64Image()},t.prototype.xZoomListener=function(t){var e=this._chart.xMinView,i=this._chart.xMaxView,r=i-e;t.detail.zoomValue.zoomType>0?(e+=.1*r*t.detail.zoomValue.coef,i-=.1*r*(1-t.detail.zoomValue.coef)):(e-=.15*r*t.detail.zoomValue.coef,i+=.15*r*(1-t.detail.zoomValue.coef)),e=e<this._chart.xMin?this._chart.xMin:e,i=i>this._chart.xMax?this._chart.xMax:i,this._chart.xMinView=e,this._chart.xMaxView=i,this._xView=JSON.stringify({min:this._chart.xMinView,max:this._chart.xMaxView}),r=this._chart.xMaxView-this._chart.xMinView,this._slider.x.max=this._chart.xMax-r;var a=r/(this._chart.xMax-this._chart.xMin),o=(this._chart.xMinView-this._chart.xMin)/(this._chart.xMax-this._chart.xMin);this._slider.x.cursorSize=JSON.stringify({cursorSize:a,cursorOffset:o}),this.boundsDidChange.emit({bounds:{min:this._chart.xMinView,max:this._chart.xMaxView}}),this.wc.forceUpdate()},t.prototype.yZoomListener=function(t){var e=this._chart.yMinView,i=this._chart.yMaxView,r=i-e;t.detail.zoomValue.zoomType>0?(e+=.1*r*(1-t.detail.zoomValue.coef),i-=.1*r*t.detail.zoomValue.coef):(e-=.15*r*(1-t.detail.zoomValue.coef),i+=.15*r*t.detail.zoomValue.coef),e=e<this._chart.yMin?this._chart.yMin:e,i=i>this._chart.yMax?this._chart.yMax:i,this._chart.yMinView=e,this._chart.yMaxView=i,this._yView=JSON.stringify({min:this._chart.yMinView,max:this._chart.yMaxView}),r=this._chart.yMaxView-this._chart.yMinView,this._slider.y.max=this._chart.yMax-r;var a=r/(this._chart.yMax-this._chart.yMin),o=(this._chart.yMax-this._chart.yMaxView)/(this._chart.yMax-this._chart.yMin);this._slider.y.cursorSize=JSON.stringify({cursorSize:a,cursorOffset:o}),this.wc.forceUpdate()},t.prototype.xSliderListener=function(t){var e=t.detail.sliderValue-this._chart.xMinView;this._chart.xMinView+=e,this._chart.xMaxView+=e,this._xView=JSON.stringify({min:this._chart.xMinView,max:this._chart.xMaxView}),this.boundsDidChange.emit({bounds:{min:this._chart.xMinView,max:this._chart.xMaxView}}),this.wc.forceUpdate()},t.prototype.ySliderListener=function(t){var e=t.detail.sliderValue-this._chart.yMinView;this._chart.yMinView+=e,this._chart.yMaxView+=e,this._yView=JSON.stringify({min:this._chart.yMinView,max:this._chart.yMaxView}),this.wc.forceUpdate()},t.prototype.zoomReset=function(){this._chart.xMinView=this._chart.xMin,this._chart.xMaxView=this._chart.xMax,this._chart.yMinView=this._chart.yMin,this._chart.yMaxView=this._chart.yMax,this._xView=JSON.stringify({min:this._chart.xMin,max:this._chart.xMax}),this._yView=JSON.stringify({min:this._chart.yMin,max:this._chart.yMax}),this._slider.x.cursorSize=JSON.stringify({cursorSize:1,cursorOffset:0}),this._slider.y.cursorSize=JSON.stringify({cursorSize:1,cursorOffset:0}),this.boundsDidChange.emit({bounds:{min:this._chart.xMin,max:this._chart.xMax}}),this.wc.forceUpdate()},t.prototype.render=function(){var t=this;return r("div",{class:"wrapper"},r("quantum-vertical-zoom-slider",{height:this._slider.y.height,id:"ySlider","min-value":this._chart.yMin,"max-value":this._slider.y.max,cursorSize:this._slider.y.cursorSize}),r("quantum-chart",{id:"myChart",alone:!1,unit:this.unit,type:this.type,chartTitle:this.chartTitle,responsive:this.responsive,"show-legend":this.showLegend,data:this.data,hiddenData:this.hiddenData,options:this._options,width:this.width,height:this.height,timeMin:this.timeMin,timeMax:this.timeMax,xView:this._xView,yView:this._yView}),r("button",{id:"reset",type:"button",onClick:function(){return t.zoomReset()}},"Zoom Reset"),r("div",{id:"xSliderWrapper"},r("quantum-horizontal-zoom-map",{id:"xSlider",img:this.png,width:this._slider.x.width,"min-value":this._chart.xMin,"max-value":this._slider.x.max,cursorSize:this._slider.x.cursorSize})))},Object.defineProperty(t,"is",{get:function(){return"quantum-chart-zoom"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"encapsulation",{get:function(){return"shadow"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"properties",{get:function(){return{chartTitle:{type:String,attr:"chart-title"},data:{type:String,attr:"data"},el:{elementRef:!0},height:{type:String,attr:"height"},hiddenData:{type:String,attr:"hidden-data"},options:{type:String,attr:"options",watchCallbacks:["changeScale"]},responsive:{type:Boolean,attr:"responsive"},showLegend:{type:Boolean,attr:"show-legend"},timeMax:{type:Number,attr:"time-max"},timeMin:{type:Number,attr:"time-min"},type:{type:String,attr:"type"},unit:{type:String,attr:"unit"},wc:{elementRef:!0},width:{type:String,attr:"width"}}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"events",{get:function(){return[{name:"boundsDidChange",method:"boundsDidChange",bubbles:!0,cancelable:!0,composed:!0}]},enumerable:!0,configurable:!0}),Object.defineProperty(t,"listeners",{get:function(){return[{name:"chartInfos",method:"chartInfosWatcher"},{name:"xZoom",method:"xZoomListener"},{name:"yZoom",method:"yZoomListener"},{name:"xSliderValueChanged",method:"xSliderListener"},{name:"ySliderValueChanged",method:"ySliderListener"}]},enumerable:!0,configurable:!0}),Object.defineProperty(t,"style",{get:function(){return"[data-quantum-chart-zoom-host]   .chart-container[data-quantum-chart-zoom]{width:var(--quantum-chart-width,100%);height:var(--quantum-chart-height,100%);position:relative}[data-quantum-chart-zoom-host]   .wrapper[data-quantum-chart-zoom]{display:grid;grid-template-columns:30px auto;grid-template-rows:auto 100px;margin:10px}[data-quantum-chart-zoom-host]   #ySlider[data-quantum-chart-zoom]{margin-top:25px;grid-row:1;grid-column:1}[data-quantum-chart-zoom-host]   #xSliderWrapper[data-quantum-chart-zoom]{grid-row:2;grid-column:2}[data-quantum-chart-zoom-host]   #xSliderWrapper[data-quantum-chart-zoom]   quantum-horizontal-zoom-map[data-quantum-chart-zoom]{height:100px;width:100%;z-index:10}[data-quantum-chart-zoom-host]   #myChart[data-quantum-chart-zoom]{grid-row:1;grid-column:2}[data-quantum-chart-zoom-host]   #reset[data-quantum-chart-zoom]{z-index:10;background-color:#adff2f;border-radius:var(--quantum-reset-border-radius,0);border-color:var(--quantum-reset-border-color,#000);width:var(--quantum-reset-width,10px);height:var(--quantum-reset-height,10px)}"},enumerable:!0,configurable:!0}),t}(),o=function(){function t(){this.cursorSize="{}",this.config="{}",this._cursorMinWidth=30,this.lastPos=0}return t.prototype.changeCursorSize=function(t,e){var i=this;if(e!==t){var r=JSON.parse(t);r.cursorOffset+r.cursorSize<=100&&(this._cursor.style.left=(100*r.cursorOffset).toString()+"%",window.requestAnimationFrame(function(){r.cursorSize*i._rail.getBoundingClientRect().width<i._cursorMinWidth?i._cursor.style.width=i._cursorMinWidth.toString()+"px":i._cursor.style.width=(100*r.cursorSize).toString()+"%"}))}},t.prototype.initSize=function(t,e){e!==t&&(this._rail.style.width=(.94*t).toString()+"px",this._img.style.width=(t+18).toString()+"px")},t.prototype.componentWillLoad=function(){},t.prototype.componentDidLoad=function(){var t=this;this._rail=this.el.shadowRoot.querySelector("#rail"),this._cursor=this.el.shadowRoot.querySelector("#cursor"),this._img=this.el.shadowRoot.querySelector("#img");var i=new e.Draggabilly(this._cursor,{axis:"x",containment:this._rail});i.on("dragStart",function(e,i){t.dimsX(e)}),i.on("dragMove",function(e,i,r){if(e.pageX-t._mouseCursorLeftOffset>=t._railMin+1&&e.pageX+t._mouseCursorRightOffset<=t._railMax-1){var a=e.pageX-t._rail.offsetLeft-t._mouseCursorLeftOffset,o=(a=Math.max(0,a))/(t._railMax-t._railMin-t._cursorWidth)*(t.maxValue-t.minValue)+t.minValue;window.setTimeout(function(){return t.xSliderValueChanged.emit({sliderValue:o})})}})},t.prototype.dimsX=function(t){var e=this._rail.getBoundingClientRect(),i=this._cursor.getBoundingClientRect();this._railMin=this._rail.offsetLeft,this._railMax=e.width+this._rail.offsetLeft,this._cursorWidth=i.width,this._mouseCursorLeftOffset=t.pageX-this._cursor.offsetLeft-this._rail.offsetLeft,this._mouseCursorRightOffset=i.width-this._mouseCursorLeftOffset},t.prototype.xWheel=function(t){t.preventDefault();var e=this._rail.getBoundingClientRect(),i=(t.pageX-this._rail.offsetLeft)/e.width;this.xZoom.emit({zoomValue:{coef:i,zoomType:-1*t.deltaY}})},t.prototype.positionClick=function(t){if(t.preventDefault(),t.pageX<this._railMin+this._cursor.offsetLeft||t.pageX>this._railMin+this._cursor.offsetLeft+this._cursorWidth){this.dimsX(t);var e=this._cursorWidth/2,i=void 0;t.pageX-e<this._rail.offsetLeft?(i=0,this._cursor.style.left="1px"):t.pageX+e>this._railMax?(i=this._railMax-this._railMin-this._cursorWidth,this._cursor.style.left=i.toString()+"px"):(i=t.pageX-this._railMin-e,this._cursor.style.left=i.toString()+"px");var r=i/(this._railMax-this._railMin-this._cursorWidth)*(this.maxValue-this.minValue)+this.minValue;this.xSliderValueChanged.emit({sliderValue:r})}},t.prototype.render=function(){var t=this;return r("div",{id:"rail",onWheel:function(e){return t.xWheel(e)},onMouseUp:function(e){return t.positionClick(e)}},r("div",{id:"cursor"}),r("img",{id:"img",src:this.img}))},Object.defineProperty(t,"is",{get:function(){return"quantum-horizontal-zoom-map"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"encapsulation",{get:function(){return"shadow"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"properties",{get:function(){return{config:{type:String,attr:"config"},cursorSize:{type:String,attr:"cursor-size",watchCallbacks:["changeCursorSize"]},el:{elementRef:!0},img:{type:String,attr:"img"},maxValue:{type:Number,attr:"max-value"},minValue:{type:Number,attr:"min-value"},width:{type:Number,attr:"width",watchCallbacks:["initSize"]}}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"events",{get:function(){return[{name:"xSliderValueChanged",method:"xSliderValueChanged",bubbles:!0,cancelable:!0,composed:!0},{name:"xZoom",method:"xZoom",bubbles:!0,cancelable:!0,composed:!0}]},enumerable:!0,configurable:!0}),Object.defineProperty(t,"style",{get:function(){return"[data-quantum-horizontal-zoom-map-host]   #rail[data-quantum-horizontal-zoom-map]{position:relative;border:1px solid #000;float:right;margin:0 0 0 100px;position:absolute;height:100px;width:100%;overflow:hidden}[data-quantum-horizontal-zoom-map-host]   #img[data-quantum-horizontal-zoom-map]{position:absolute;height:100px;top:0;right:-1.5%}[data-quantum-horizontal-zoom-map-host]   #cursor[data-quantum-horizontal-zoom-map]:hover{opacity:.6}[data-quantum-horizontal-zoom-map-host]   #cursor[data-quantum-horizontal-zoom-map]{z-index:1;opacity:.3;background-color:grey;position:relative;cursor:move;width:100%;height:100%;border-left:3px solid red;border-right:3px solid red;-webkit-transition:left .01s;transition:left .01s}"},enumerable:!0,configurable:!0}),t}(),n=function(){function t(){this.cursorSize="{}",this.config="{}",this._cursorMinHeight=30}return t.prototype.changeCursorSize=function(t,e){if(e!==t){var i=JSON.parse(t);i.cursorOffset+i.cursorSize<=100&&(this._cursor.style.top=(100*i.cursorOffset).toString()+"%",i.cursorSize*this._rail.getBoundingClientRect().height<this._cursorMinHeight?this._cursor.style.height=this._cursorMinHeight.toString()+"px":this._cursor.style.height=(100*i.cursorSize).toString()+"%")}},t.prototype.initSize=function(t,e){e!==t&&(this._rail.style.height=(.95*t).toString()+"px")},t.prototype.componentWillLoad=function(){},t.prototype.componentDidLoad=function(){var t=this;this._rail=this.el.shadowRoot.querySelector("#vrail"),this._cursor=this.el.shadowRoot.querySelector("#vcursor");var i=new e.Draggabilly(this._cursor,{axis:"y",containment:this._rail});i.on("dragStart",function(e,i){t.dimsY(e)}),i.on("dragMove",function(e,i,r){if(e.pageY-t._mouseCursorTopOffset>=t._railMin+1&&e.pageY+t._mouseCursorBottomOffset<=t._railMax-1){var a=e.pageY-t._rail.offsetTop-t._mouseCursorTopOffset,o=(a=Math.max(0,a))/(t._railMax-t._railMin-t._cursorHeight)*(t.maxValue-t.minValue)+t.minValue;o=t.maxValue-t.minValue-o,window.setTimeout(function(){return t.ySliderValueChanged.emit({sliderValue:o})})}})},t.prototype.dimsY=function(t){var e=this._rail.getBoundingClientRect(),i=this._cursor.getBoundingClientRect();this._railMin=this._rail.offsetTop,this._railMax=e.height+this._rail.offsetTop,this._cursorHeight=i.height,this._mouseCursorTopOffset=t.pageY-this._rail.offsetTop-this._cursor.offsetTop,this._mouseCursorBottomOffset=i.height-this._mouseCursorTopOffset},t.prototype.yWheel=function(t){t.preventDefault();var e=this._rail.getBoundingClientRect(),i=(t.pageY-this._rail.offsetTop)/e.height;this.yZoom.emit({zoomValue:{coef:i,zoomType:-1*t.deltaY}})},t.prototype.render=function(){var t=this;return r("div",{id:"vrail",onWheel:function(e){return t.yWheel(e)}},r("div",{id:"vcursor"}))},Object.defineProperty(t,"is",{get:function(){return"quantum-vertical-zoom-slider"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"encapsulation",{get:function(){return"shadow"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"properties",{get:function(){return{config:{type:String,attr:"config"},cursorSize:{type:String,attr:"cursor-size",watchCallbacks:["changeCursorSize"]},el:{elementRef:!0},height:{type:Number,attr:"height",watchCallbacks:["initSize"]},maxValue:{type:Number,attr:"max-value"},minValue:{type:Number,attr:"min-value"}}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"events",{get:function(){return[{name:"ySliderValueChanged",method:"ySliderValueChanged",bubbles:!0,cancelable:!0,composed:!0},{name:"yZoom",method:"yZoom",bubbles:!0,cancelable:!0,composed:!0}]},enumerable:!0,configurable:!0}),Object.defineProperty(t,"style",{get:function(){return"[data-quantum-vertical-zoom-slider-host]   #vrail[data-quantum-vertical-zoom-slider]{position:relative;background-color:var(--quantum-bg-rail-color,grey);opacity:.7;width:20px;margin:0 0 20px 0;border:1px solid var(--quantum-border-rail-color,#000);border-radius:var(--quantum-border-radius,6px);padding:0}[data-quantum-vertical-zoom-slider-host]   #vrail[data-quantum-vertical-zoom-slider]:hover{opacity:1}[data-quantum-vertical-zoom-slider-host]   #vcursor[data-quantum-vertical-zoom-slider]{background-color:var(--quantum-bg-cursor-color,red);position:relative;cursor:move;width:20px;height:100%;border:1px solid var(--quantum-border-cursor-color,#000);border-radius:var(--quantum-border-radius,6px);-webkit-transition:top .01s;transition:top .01s}"},enumerable:!0,configurable:!0}),t}();t.QuantumChartZoom=a,t.QuantumHorizontalZoomMap=o,t.QuantumVerticalZoomSlider=n,Object.defineProperty(t,"__esModule",{value:!0})});