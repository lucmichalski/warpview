/*! Built with http://stenciljs.com */
const{h:t}=window.quantumviz;import{a as e}from"./chunk-eb2a725a.js";class r{}class n{static cleanArray(t){return t.filter(t=>!!t)}static unique(t){let e={},r=[];for(let n=0,i=t.length;n<i;++n)e.hasOwnProperty(t[n])||(r.push(t[n]),e[t[n]]=1);return r}static isArray(t){return t&&"object"==typeof t&&t instanceof Array&&"number"==typeof t.length&&"function"==typeof t.splice&&!t.propertyIsEnumerable("length")}static isValidResponse(t){let e;try{e=JSON.parse(t)}catch(e){return console.error("Response non JSON compliant",t),!1}return!!n.isArray(e)||(console.error("Response isn't an Array",e),!1)}static isEmbeddedImage(t){return!("string"!=typeof t||!/^data:image/.test(t))}static isEmbeddedImageObject(t){return!(null===t||null===t.image||null===t.caption||!n.isEmbeddedImage(t.image))}static isPositionArray(t){if(!t||!t.positions)return!1;if(n.isPositionsArrayWithValues(t)||n.isPositionsArrayWithTwoValues(t))return!0;for(let e in t.positions){if(t.positions[e].length<2||t.positions[e].length>3)return!1;for(let r in t.positions[e])if("number"!=typeof t.positions[e][r])return!1}return!0}static isPositionsArrayWithValues(t){if(null===t||null===t.positions)return!1;for(let e in t.positions){if(3!==t.positions[e].length)return!1;for(let r in t.positions[e])if("number"!=typeof t.positions[e][r])return!1}return!0}static isPositionsArrayWithTwoValues(t){if(null===t||null===t.positions)return!1;for(let e in t.positions){if(4!==t.positions[e].length)return!1;for(let r in t.positions[e])if("number"!=typeof t.positions[e][r])return!1}return!0}static metricFromJSON(t){let e={ts:t[0],value:void 0,alt:void 0,lon:void 0,lat:void 0};switch(t.length){case 2:e.value=t[1];break;case 3:e.alt=t[1],e.value=t[2];break;case 4:e.lat=t[1],e.lon=t[2],e.value=t[3];break;case 5:e.lat=t[1],e.lon=t[2],e.alt=t[3],e.value=t[4]}return e}static gtsFromJSON(t,e){return{gts:{c:t.c,l:t.l,a:t.a,v:t.v,id:e}}}static gtsFromJSONList(t,e){let r,i=[];return(t||[]).forEach((t,s)=>{let o=t;t.gts&&(o=t.gts),r=void 0!==e&&""!==e?e+"-"+s:s,n.isArray(o)&&i.push(n.gtsFromJSONList(o,r)),n.isGts(o)&&i.push(n.gtsFromJSON(o,r)),n.isEmbeddedImage(o)&&i.push({image:o,caption:"Image",id:r}),n.isEmbeddedImageObject(o)&&i.push({image:o.image,caption:o.caption,id:r})}),{content:i||[]}}static flatDeep(t){return t.reduce((t,e)=>Array.isArray(e)?t.concat(n.flatDeep(e)):t.concat(e),[])}static flattenGtsIdArray(t,e){let r,i;for(e||(e=[]),i=0;i<t.content.length;i++)(r=t.content[i]).content?n.flattenGtsIdArray(r,e):r.gts&&e.push(r.gts);return e}static serializeGtsMetadata(t){let e=[];return Object.keys(t.l).forEach(r=>{e.push(r+"="+t.l[r])}),t.c+"{"+e.join(",")+"}"}static gtsToPath(t){let e=[];t.v=t.v.sort(function(t,e){return t[0]-e[0]});for(let r=0;r<t.v.length;r++){let n=t.v[r];n.length,n.length,4===n.length&&e.push({ts:Math.floor(n[0]/1e3),lat:n[1],lon:n[2],val:n[3]}),5===n.length&&e.push({ts:Math.floor(n[0]/1e3),lat:n[1],lon:n[2],elev:n[3],val:n[4]})}return e}static equalMetadata(t,e){if(!(void 0!==t.c&&void 0!==e.c&&void 0!==t.l&&void 0!==e.l&&t.l instanceof Object&&e.l instanceof Object))return console.error("[warp10-gts-tools] equalMetadata - Error in GTS, metadata is not well formed"),!1;if(t.c!==e.c)return!1;for(let r in t.l){if(!e.l.hasOwnProperty(r))return!1;if(t.l[r]!==e.l[r])return!1}for(let r in e.l)if(!t.l.hasOwnProperty(r))return!1;return!0}static isGts(t){return!(!t||null===t||null===t.c||null===t.l||null===t.a||null===t.v||!n.isArray(t.v))}static isGtsToPlot(t){if(!n.isGts(t)||0===t.v.length)return!1;for(let e=0;e<t.v.length;e++)if(null!==t.v[e][t.v[e].length-1]){if("number"==typeof t.v[e][t.v[e].length-1]||void 0!==t.v[e][t.v[e].length-1].constructor.prototype.toFixed)return!0;break}return!1}static isBooleanGts(t){if(!n.isGts(t)||0===t.v.length)return!1;for(let e=0;e<t.v.length;e++)if(null!==t.v[e][t.v[e].length-1]){if("boolean"!=typeof t.v[e][t.v[e].length-1])return!0;break}return!1}static isGtsToAnnotate(t){if(!n.isGts(t)||0===t.v.length)return!1;for(let e=0;e<t.v.length;e++)if(null!==t.v[e][t.v[e].length-1]){if("number"!=typeof t.v[e][t.v[e].length-1]&&t.v[e][t.v[e].length-1].constructor&&"Big"!==t.v[e][t.v[e].length-1].constructor.name&&void 0===t.v[e][t.v[e].length-1].constructor.prototype.toFixed)return!0;break}return!1}static gtsSort(t){t.isSorted||(t.v=t.v.sort(function(t,e){return t[0]-e[0]}),t.isSorted=!0)}static gtsTimeRange(t){return n.gtsSort(t),0===t.v.length?null:[t.v[0][0],t.v[t.v.length-1][0]]}static getData(t){return"string"==typeof t?{data:JSON.parse(t)}:t&&t.hasOwnProperty("data")?t:n.isArray(t)?{data:t}:new r}}n.LOG=new e(n);export{n as a,r as b};